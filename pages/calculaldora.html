<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pagina principal</title>
    <link rel="stylesheet" href="css/main.css"
</head>
<body>
    <a href="img/imagen1.jpeg">imagen 1</a><br>
    <a href="tutor/tutorial1.mp4">tutorial 1</a>
    <video src="videos/videoplayback.mp4"controls style="width: 350px;">video2</video>


    <!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calculadora - HTML CSS JS</title>
  <style>
    :root{--bg:#0f1724;--panel:#0b1220;--accent:linear-gradient(135deg,#6ee7b7,#3b82f6);--btn:#111827;--muted:#94a3b8}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;color:#e6eef8;background:radial-gradient(1000px 600px at 10% 10%,#071428 0%, transparent 30%), radial-gradient(800px 500px at 90% 90%, rgba(59,130,246,0.06) 0%, transparent 25%), var(--bg);
    display:flex;align-items:center;justify-content:center}
    .calculator{
      width:380px;max-width:95vw;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:18px;padding:18px;box-shadow:0 10px 30px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)
    }
    .topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{width:44px;height:44px;border-radius:10px;background:var(--accent);box-shadow:0 6px 18px rgba(59,130,246,0.12);display:flex;align-items:center;justify-content:center;font-weight:700;color:#04263b}
    .title{font-size:14px;color:#d6e9fb}
    .subtitle{font-size:11px;color:var(--muted);margin-top:2px}

    .screen{background:transparent;padding:12px;border-radius:12px;min-height:100px;display:flex;flex-direction:column;justify-content:center;align-items:flex-end;gap:6px}
    .expression{font-size:16px;color:var(--muted);word-break:break-all}
    .result{font-size:32px;color:#f8fafc;font-weight:600}

    .pad{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:14px}
    button.key{padding:18px;border-radius:12px;border:0;font-size:18px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));color:#e6eef8;box-shadow:inset 0 -2px 0 rgba(0,0,0,0.2);cursor:pointer;transition:transform .06s ease}
    button.key:active{transform:translateY(2px)}
    button.op{background:linear-gradient(180deg,#0b2438,#03212d);color:#9be7ff}
    button.fn{background:linear-gradient(180deg,#151827,#0b0f14);color:var(--muted)}
    button.equal{grid-column:span 2;background:var(--accent);color:#04263b;font-weight:700}

    .small{font-size:13px;padding:12px}

    footer{margin-top:10px;text-align:center;font-size:12px;color:var(--muted)}

    @media (max-width:420px){.result{font-size:28px}}
  </style>
</head>
<body>
  <main class="calculator" role="application" aria-label="Calculadora">
    <div class="topbar">
      <div class="brand">
        <div class="logo">C</div>
        <div>
          <div class="title">Calculadora</div>
          <div class="subtitle">HTML · CSS · JavaScript</div>
        </div>
      </div>
      <div class="small" id="hint">Teclado: 0-9 + - * / . Enter = Backspace</div>
    </div>

    <div class="screen" id="screen">
      <div class="expression" id="expression">0</div>
      <div class="result" id="result">0</div>
    </div>

    <div class="pad" role="grid">
      <button class="key fn" data-action="clear">C</button>
      <button class="key fn" data-action="back">⌫</button>
      <button class="key fn" data-action="percent">%</button>
      <button class="key op" data-value="/">÷</button>

      <button class="key" data-value="7">7</button>
      <button class="key" data-value="8">8</button>
      <button class="key" data-value="9">9</button>
      <button class="key op" data-value="*">×</button>

      <button class="key" data-value="4">4</button>
      <button class="key" data-value="5">5</button>
      <button class="key" data-value="6">6</button>
      <button class="key op" data-value="-">−</button>

      <button class="key" data-value="1">1</button>
      <button class="key" data-value="2">2</button>
      <button class="key" data-value="3">3</button>
      <button class="key op" data-value="+">+</button>

      <button class="key" data-value="0" style="grid-column:span 2">0</button>
      <button class="key" data-value=".">.</button>
      <button class="key equal" data-action="equals">=</button>
    </div>

    <footer>Diseñado para ser claro y responsivo. Pulsa una tecla o usa el ratón.</footer>
  </main>

  <script>
    (function(){
      const exprEl = document.getElementById('expression');
      const resEl = document.getElementById('result');
      let expression = '';

      function updateDisplay(){
        exprEl.textContent = expression || '0';
        try{
          const safe = toEvaluable(expression);
          if(safe.trim() === ''){ resEl.textContent = '0'; return }
          const val = eval(safe);
          if(val === undefined) resEl.textContent = '0';
          else resEl.textContent = numberToString(val);
        }catch(e){ resEl.textContent = 'Error' }
      }

      function numberToString(n){
        if(Math.abs(n) > 1e12 || (Math.abs(n) < 1e-6 && n !== 0)) return n.toExponential(6);
        return +parseFloat(n.toFixed(12)).toString();
      }

      function toEvaluable(str){
        // Replace visual operators and % handling
        let s = String(str).replace(/×/g,'*').replace(/÷/g,'/').replace(/−/g,'-');
        // Convert percentages: '50%' -> '(50/100)'
        s = s.replace(/(\d+(?:\.\d+)?)%/g,'($1/100)');
        // Only allow digits, operators, parentheses, decimal and whitespace
        if(/[^0-9+\-*/().%\s]/.test(str)) throw new Error('Caracter no permitido');
        return s;
      }

      function append(char){
        // prevent two consecutive operators (except for unary -)
        const last = expression.slice(-1);
        if(/[+\-*/.]/.test(char) && /[+\-*/.]/.test(last)){
          // allow negative after operator
          if(char === '-' && /[+\-*/]/.test(last)){
            expression += char;
          } else if(char === '.' && /\d/.test(last)) {
            expression += char;
          } else {
            // replace last operator with new one (allows changing + to - etc.)
            if(/[+\-*/]/.test(last) && /[+\-*/]/.test(char)){
              expression = expression.slice(0,-1) + char;
            }
          }
        } else {
          expression += char;
        }
        updateDisplay();
      }

      function clearAll(){ expression = ''; updateDisplay(); }
      function backspace(){ expression = expression.slice(0,-1); updateDisplay(); }

      function evaluateNow(){
        try{
          const safe = toEvaluable(expression);
          const val = eval(safe);
          expression = (val === undefined ? '' : String(val));
          updateDisplay();
        }catch(e){ resEl.textContent = 'Error'; }
      }

      document.querySelectorAll('button.key').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const v = btn.dataset.value;
          const action = btn.dataset.action;
          if(action === 'clear') return clearAll();
          if(action === 'back') return backspace();
          if(action === 'equals') return evaluateNow();
          if(action === 'percent'){
            // apply percent to last number
            const m = expression.match(/(\d+(?:\.\d+)?)$/);
            if(m){
              const num = parseFloat(m[1]);
              const repl = String(num/100);
              expression = expression.slice(0, -m[1].length) + repl;
              updateDisplay();
            }
            return;
          }
          if(v) append(v);
        })
      });

      // keyboard support
      window.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === '='){ e.preventDefault(); evaluateNow(); return }
        if(e.key === 'Backspace'){ e.preventDefault(); backspace(); return }
        if(e.key === 'Escape'){ clearAll(); return }
        const allowed = '0123456789+-*/().%';
        if(allowed.includes(e.key)){
          append(e.key);
          e.preventDefault();
        }
      });

      // init
      updateDisplay();
    })();
  </script>
</body>
</html>

</body>
</html>